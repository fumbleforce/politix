head
    title politix

body
    +main
    
    
    
    
template(name="createCompany")
    p= error
    .form-horizontal
        .form-group
            label.control-label.col-sm-2(for="name") Company Name
            .col-sm-10
                input#name.form-control.name
        .form-group
            .col-sm-offset-2.col-sm-10
                input.btn.btn-primary.save(type="submit", value="Found Company")


template(name="nameForm")
    p= error
    .form-horizontal
        .form-group
            label.control-label.col-sm-2(for="ceo") CEO
            .col-sm-10
                input#ceo.form-control.ceo
        .form-group
            .col-sm-offset-2.col-sm-10
                input.btn.btn-primary.save(type="submit", value="Set CEO name")



template(name="main")
    .top-bar
        if currentUser
            +loginButtons
            .user-info
                span Company: #{currentUser.company}
                span CEO: #{currentUser.profile.name}
    .main
        +companyList
        unless currentUser
            .focus-container
                +loginButtons
        else 
            unless hasCompany
                if hasName
                    .focus-container
                        +createCompany
                else
                    .focus-container
                        +nameForm
            else
                +layout
            

template(name="layout")
    // Places the components in their proper place

    .row
        // Company status row
        +companyStatus

    .row
        .col-md-3
            // Nav, other things?
            +navList

        .col-md-6
            // Content of different pages
            +pages

        .col-md-3
            // Chat, status updates

    


template(name="pages")
    // The big window in the center
    - var page = "front"
    case page
        when "front"
            +frontPage
        default
            +frontPage


template(name="frontPage")
    .front-page
        h1 front page

template(name="navList")
    .nav-list
        h1 nav list



template(name="frontPage")
    h1 front page



template(name="companyStatus")
    with company
        .companyStatus.container

            .col-md-4
                h1= name

            .col-md-4
                p= cash

            .col-md-4
                p= currentUser.username

    
    
template(name="companyList")
    .company-list
        each companies
            .company-entry
                h2= name
                p= _id

        
