head
    title politix
    link(rel="stylesheet" type="text/css" href="/css/component.css")
    style.
        canvas { width: 100%; height: 100% }



template(name="Main")
    //- 
        Top level template.
        The container for all templates.
    


    .main
        
        if currentUser
            if noTown
                +StartGame
            else
                +Dashboard
        else
            +atForm


template(name="Nav")
    +atNavButton
    
    if currentUser
        p= currentUser
        .row
            a.text-center(href="/dashboard")
                .btn.btn-primary.btn-lg Game
    else
        .pull-right


template(name="Layout")
    //- 
        Places the components in their proper place.
        Displayed if company and owner is set
    
    //-
        .top-bar
            +Nav

    .bg-blur.bg-img-town.active(style="z-index:-1")
    .bg-blur.bg-img-market
    .bg-blur.bg-img-gathering
    .bg-blur.bg-img-settlers
    .bg-blur.bg-img-treasury
    .bg-blur.bg-img-relations
    .bg-blur.bg-img-storage
    

    .page-wrapper
        .side-bar
            if gameActive
                +TownStatus
                +NavList
                //+Chat
                +EventList

        .main-window
            +Main



template(name="Dashboard")
    //- 
        Contains the view where all components are available

    //-canvas#spaceCanvas
    //-#map-container

    // Standard on
    +Town
    +Settlers
    +Treasury
    +Trade
    //+Politics
    //+Production
    +Relations
    +Storage
    //+Mining
    +Gathering

    // Dialogs
    +DialogConfirm
    +DialogAlert
    +MarketDialog
    +MarketCreateOrder

    #context-menu.context-menu(style="display:none")
        ul
            li.btn-btn-default Close

template(name="Home")
    //-
        Home page.
        Displays news maybe

    .home.panel.panel-primary.drag-component.resizable
            .panel-heading
                | Hello
            .panel-body
                | Such a sexy boody



template(name="Loading")
    //-
        Loading page, might be useful

    .loading
        h1 Loading...

